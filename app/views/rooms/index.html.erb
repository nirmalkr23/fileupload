
<div class="container p-5">
    <div class="row">
        <div class="col-md-3 bg-dark text-light border border-2 pt-5">
            <h5> Hi <%= @current_user.first_name %> </h5>
            <h4> Users </h4>
            <div>
                <%= turbo_stream_from "users" %>
                <div id="users">
                    <%= render @users %>
                </div>
            </div>
            <h4> Rooms </h4>
            <%= render partial: "layouts/new_room_form" %>
            <div>
                <%= turbo_stream_from "rooms" %>
                <div id="rooms">
                    <%= render @rooms %>
                </div>
            </div>
        </div>
        <div class="col-md-9 bg-dark text-light border border-danger p-5 rounded rounded-10 mt-md-0 mt-4">
            <% if @single_room %>
                <div class="user-info text-center mb-3 ">
					<div class="d-inline-block align-middle">
						<img src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/avatar-8.webp" alt="avatar"
                    class="rounded-circle d-flex align-self-center me-3 shadow-1-strong" width="60">
					</div>
					<div class="d-inline-block align-middle ml-3">
						<h4 class="text-danger"><%= @user&.first_name || @single_room.name %></h4>
					</div>
				</div>
                <%= turbo_stream_from @single_room %>
                <div id="messages" data-controller="scroll">
                    <%= render @messages %>
                </div>
                    <%= render partial: 'layouts/new_messages_form' %>
                    <% if @single_room %>
                        <%= button_to "Delete Room", room_path(@single_room), method: :delete, data: { confirm: "Are you sure you want to delete this room?" }, class: "btn btn-danger mt-3" %>
                    <% end %>
            <% end %>
        </div>
    </div>
</div>
